@model AdoptAnimal.Web.ViewModels.Advertisements.SingleAdvertisementViewModel
@{
    this.ViewData["Title"] = "ById";
}

<div class="container">
    <div class="cardm">
        <div class="container-fliud">
            <div class="wrapper row">
                <div class="preview col-md-6">
                    <div class="preview-pic tab-content">
                        <div class="tab-pane active" id="pic-1"><img data-enlargeable class="image-li" src=@Model.Pet.PetImages.FirstOrDefault().ImageUrl alt=@Model.Pet.Name /></div>
                    </div>
                    <ul class="preview-thumbnail nav nav-tabs">
                        <li class="active mt-2"><a data-target="#pic-1" data-toggle="tab"><img data-enlargeable class="image-li" 
src=@Model.Pet.PetImages.FirstOrDefault().ImageUrl alt=@Model.Pet.Name style="width:160px; height:80px"/></a></li>
                        @foreach (var petImage in Model.Pet.PetImages)
                        {
                            <li class="mt-2"><a data-target="#pic-2" data-toggle="tab"><img data-enlargeable class="image-li" src=@petImage.ImageUrl alt=@Model.Pet.Name style="width:160px; height:80px"/></a></li>
                        }
                    </ul>

                </div>
                <div class="details col-md-6">
                    <h3 class="product-title text-center pt-2 p-1 mb-0">@Model.Title</h3>
                    <p class="product-description font-italic p-1 mb-0">Added on @Model.CreatedOn.ToString("hh:MM dd/mm/yy") by @Model.AuthorUserName</p>
                    <div class="rating">
                        <span class="review-no">
                            Views:
                            @if (Model.Statistic != null)
                            {
                                @Model.Statistic.CountOfViews
                            }
                        </span>
                    </div>
                    <p class="product-description p-1 mb-0">@Model.Description</p>
                    <p class="product-description p-1 mb-0">Name: @Model.Pet.Name Age:@Model.Pet.Age Gender:@Model.Pet.Gender Weight:@Model.Pet.Weight Breed:@Model.Pet.Breed IsDewormed:@Model.Pet.IsDewormed IsAdopted:@Model.Pet.IsAdopted</p>
                    <p class="product-description p-1 mb-0">Tel:@Model.PhoneNumber Added By:@Model.AuthorUserName</p>
                    <p class="product-description p-1 mb-0">Adresa:@Model.Address</p>
                    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-info mb-0">Edit</a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts{
<script>
      $('img[data-enlargeable]').addClass('img-enlargeable').click(function() {
      var src = $(this).attr('src');
      var modal;

      function removeModal() {
        modal.remove();
        $('body').off('keyup.modal-close');
      }
      modal = $('<div>').css({
        background: 'RGBA(0,0,0,.5) url(' + src + ') no-repeat center',
        backgroundSize: 'contain',
        width: '100%',
        height: '100%',
        position: 'fixed',
        zIndex: '10000',
        top: '0',
        left: '0',
        cursor: 'zoom-out'
      }).click(function() {
        removeModal();
      }).appendTo('body');
      //handling ESC
      $('body').on('keyup.modal-close', function(e) {
        if (e.key === 'Escape') {
          removeModal();
        }
      });
    });
</script>
}
